funcs:
  multiMed		:
   _desc			: Multi med adherence digest by day
   _tags       : SPA Utilities
  toMap 			:
   _desc			: Convert a record to a JSON map object
   doc			: Document Reference to convert
  me        	:
   _desc			: Return information about the curent user
   _out     	:
     rid 	 	: user Id
     name	 	: Login Name
     config 	:
     contact 	:
     roles	 	:
       - Names of the roles assigned to this user
     shares 	:
       - Names of the groups this user has access to
     groups 	:
       - Names of the groups this user is sharing with
  syncData 		:
   _desc			: Upload CMD data
   _tags			: CMD Utilities
   _inp	   	:
     - key 		: Desc of key1
  digest:
    _desc		: Aggregate stats over multiple days
    _tags   	: Deprecated
    metric		: The metric Id
    user 		: The user Id
    period  	: The number of days to aggregate
    minSteps   : The minimum number of step count records for each day
  register  	:
    _desc      : Create a new User Record
    _tags   	: Admin Utilities
    _desc		: Register a user or group
  unregister	:
    _desc      : Archive an existing user record
    _tags   	: Admin Utilities
  deleteUser	:
    _tags   	: Admin Utilities
    _desc 		: Delete a user or group
  bossView		:
    _tags   	: Admin Utilities
    _desc   	: Get data for boss triage panel
  checkPatch	:
    _tags   	: Admin Utilities
    _desc  		: Verify availabilitiy of a set of patchIds
  doseHisto 	:
    _tags   	: Deprecated
    _desc		: Histogram of dosage adherence
  encrypt		:
    _desc		: Encrypt some data
  decrypt		:
    _desc		: Decrypt some encrupted data
  forgotPassword:
    _tags   	: SPA Utilities
    _desc		: Send a password update email to someone
  generateData	:
    _desc		: Generate test data
  getDataGenJobStatus:
    _desc		: Get data generation job status
  getPatients	:
    _tags   	: Admin Utilities
    _desc 		: Get a list of patients for one or more groups
  getRaw			:
    _tags   	: Admin Utilities
    _desc		: Get raw data for a user
  grant			:
    _tags   	: Permissions
    _desc		: Grant someone access to a group
  revoke			:
    _tags   	: Permissions
    _desc		: Remove access to a group
  interupts		:
    _tags   	: Oracle Utilities
    _desc		: Return hours for which less than expected stepcount records were uploaded
  lastSync		:
    _tags   	: Oracle Utilities
    _desc		: Return last sync times where CMD data was uploaded for members of a group
  members		:
    _desc		: Get details of all members of a group
  updatePassword:
    _tags   	: SPA Utilities
    _desc		: Update password for a user
  updateUser:
    _tags   	: Admin Utilities
    _desc		: Update details of a user
  verifyEmail	:
    _tags   	: SPA Utilities
    _desc		: Verify Email address
models  			:
  event			:
    _desc	   : A timestamped event
    metric		: The metric meta data describing this event
    time			: The time the event occured
    tzone		: The timezone of the user when this event oaccured
    label		: A description of this event
    value		: The numeric value of the event
    patchId		: The patch Id coresponding to this event
  stats 			:
    _get			: Hourly statistical summaries
    _tags      : Aggregate Event Data
  hours			:
    _get			: Collections for all stats for a given hour
    _tags      : Aggregate Event Data
  dailyStats		:
    _get			: daily stats summaries
    goal			: link to goal for this metric
    metric		: link to metric
    _tags      : Aggregate Event Data
    user	      : link to the  user
    avg			: Average event value
    sum			: The Sum of the event values for this day
    std			: Standard deviation of event values for this day
    min			: The minium event value for this day
    max			: The maximum event value for this day
    hours		: List of hourly stats record for this day
    count		: The number of event records for this day
  config			:
    _get		   : Application configuration data for a user
    _put		   : Update applciation configuration options
    patches		: The patch records that have been paired for this user
    lastSync	: The most recent syncLog record for this user
    lastCmdSync: The most recent syncLog record with CMD Data
    tags			: List of tags associate with this user
    _tags      : Application Data
  contact		:
    _put		   : Update Personal Contact details
    _get		   : Contact details for a user
    firstName	: The users first name
    lastName	: The users last name
    email		: The users email address
    telNo		: The users telephone number
    _tags      : Application Data
  adherence:
    _tags		: Derived Event Data
    _get			: Timing adherence events a record is created for every valid dosage window
    streak 	  	: The number of consecutive +ve adherence values (-ve if values are 0)
    value		: The number of pills detected in the dose time window (0 = missed adherence event).
    ingestion	: A link to the ingestion detected in the dose take windo
    dose			: A link to the dose schedule for this adherence event
  dose:
    _tags		: Application Data
    _get		   : Dosage schedule
    _post     	: Create new Dose schedule Max / Min offsets will be calculated automatically. Drug may also be infered from drugName
    _samp		: {user:"#11:1", schedule:[ time:1100 ] }
    offset		: The minutes from 3AM when this dose is expected
    maxOffset	: The minutes from 3AM when this dose taking window begins
    minOffset	: The minutes from 3AM when this dose taking window ends
    window		: The number of minutes either side of the offset in which a dose may be considered 'ontime'
    drug			: drug expected for this dose windows
    startDate	: The datetime for when this schedule should begin
    endDate		: The datetime at which this schedule should end
    active		: true if this dose is currently scheduled
    replace		: List of prior dose schedules  that were deactivated by this dose
  insight:
    _tags		: Derived Event Data
    _get       : Notifications pushed to users
    _put       : Update insight - set to read
    message		: The message to be sent to the user
  factoid:
    _tags		: Application Data
    _get		   : Rules for determining factoids
    locale		: Location
  goal:
    _tags		: Application Data
    _get		   : Individual goals for specific metrics
    _post		: Create Individual goals for specific metrics
    target		: The absolute value to use as a target.
    actDays		: Number of days to aggreagte for determining the actual value
    relDays 	: Number of days to aggregate for determining the target value
    minDev		: Minium deviation from the target
    maxDev		: Maximum Deviation from the target
    flagged		: Daily Stats that don't match the target goal.
    aggFunc		: Aggregation function to compare (sum, count, max, min, avg)
  tag:
    _tags		: Application Data
    _get		   : A set of records tagged with a term
    _post		: Add a newset of records tagged with a term
    _delete		: Remove tags
    refs			: List of record references
    term			: A link to a term
    text			: Text to label this tag with
  term:
    _tags		: Application Data
    _desc		: A tagging taxonomy term
    _get		   : A tagging taxonomy term
    _post		: Create A tagging taxonomy term
    _delete		: Remove A tagging taxonomy term
    name			: The name of this term
    desc			: The description of this term
    parent		: The parent of this term
    rel			: The relationship to the parent term
    subTerms	: List of child terms
    relTypes   : List of allowed relations of sub terms
    refTypes   : List of allowed classes that may be tagged with this term
  view:
    _get		   : Materialised Views
    _post		: Create Materialised Views
    name			: Name of this view
    ttl			: Time to live in minutes
    sql			: The Sql to run for this view
    data			: Data from this query
  resting:
    _tags		: Derived Event Data
    _get		   : Time spent at Rest
  sitting:
    _tags		: Derived Event Data
    _get	      : Time spent Sitting
  active:
    _tags		: Derived Event Data
    _get       : Time spect active
  syncRequest:
    _desc		: A sync request
  syncResponse:
    _desc		: A sync response
  patch:
    _tags		: CMD Event Data
    _get       : A patch record
  syncLog:
    _tags		: CMD Event Data
    _get       : A syncLog record
    appInfo		: Info about the application that posted this record
    recInfo		: Info about the data upload request
  metric:
    _tags		: Application Data
    _get		   : A metric record
    unit			: The unit
    dayOffset	: Hourly offset from midnight used to calculate daily stats
    source		: The source of this metric
  raw:
    _tags		: CMD Event Data
    _desc		: A cmd raw data record
    data			: Raw data payload
    patchId		: Patch ID
    acqTime		: Acquistion time
  user :
    _tags		: System Data
    _desc		: A user account
    name			: the login name
    status		: Activation status
    contact		: A link to the primary contact record for this user
    config		: A link to the primary config record for this user
    roles		: The roles assigned to this user
    groups		: The groups which this user is a member of
    shares		: The groups which this user has access to.
  group:
    _tags		: System Data
    _get		   : a group of users
    _post		: Group will be automatically added to specified parent
    role			: The role that governs what what member of this group are sharing
    name			: The name of the group
    parent		: The parent group
    owner		: The user that owns this group
    memberUsers: List of users who are members of this group
    memberGroups	: The groups that are members of this group
    title		: The display title for the group
    config		: Group configuration details
  sync:
    _tags		: User Data
    user			: The user that owns this record
  event:
    _tags		: System Data
    metric		: The metric meta data describing this event
    time			: The time the event occured
    tzone		: The timezone of the user when this event oaccured
    label		: A description of this event
    value		: The numeric value of the event
  cmd:
    _tags		: CMD Event Data
    patchId		: The patch Id coresponding to this event
    syncLog		: The syncLog record for the request that created this event
  ingestion :
    _tags		: CMD Event Data
    _get	      : An IEM ingestion event
    code			: The IEM Code
    value		: The proportion of expected ingestions for this day
    drug			: The drug dose form that was ingested
  stepCount:
    _tags		: CMD Event Data
    _get	      : Step Count Event
    value		: The number of steps recorded for this minute
  heartRate	:
    _tags		: CMD Event Data
    _get       : Heart Rate event
    value		: Beats per minute
  patchStatus:
    _tags		: CMD Event Data
    _get	      : Patch Status Event (deprecated)
    value		: Patch battery %
    contact		: Skin Contact level 0 = bad, 1 = good, 2 = unknown
  bodyAngle :
    _tags		: CMD Event Data
    _get	      : Body Angle Event
    value   	: Angle from normal in degrees.
  skinTemp:
    _tags		: CMD Event Data
    _get	      : Skin Temperature Event
    value		: Skin temperature in milli celsius
  site:
   _tags			: Application Data
   _post			: Create a new site
   _put			: Update site
   _get			: A group which represents a clinical entity
   title			: The name of the site
   codes			: A map of startCodes to product.
  bundle:
   _get			: a container for product configuration meta data for patients in multiple site
   useCase		: The commercial use case
   activation	: The activation method used for users with tis
   drugs			: A List of drugs applicable for this product
   _tags        : Application Data
  drug:
   _get			: A digital drug
   name			: the name of the drug
   mg				: Number of milligrams in this drug
   doseForm		: A description of the drug dose form (eg pill, capsule)
   imprint		: Markings on the drug
   manufacturer: The drug manufacturer
   rxCui			: rxCui if known
   labelImg		: url for the image of the drug label.
   window		: default window size for the drug
   offset		: default offset for the drug
   _tags       : Application Data
